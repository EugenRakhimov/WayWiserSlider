<style>
  .btn {
    border-radius: 40px;
    width: 70px;
    height: 26px;
    font-weight: bold;
  }

  .btn.active.focus, .btn.active:focus, .btn.focus, .btn:active.focus, .btn:active:focus, .btn:focus {
    /*background-color: red;*/
    border-radius: 40px;
    /*border:none;*/
    outline: none;
  }
  .btn-primary {
    background-color: #a1a7b2;  
    border-color:   #a1a7b2;
  }
  .slider-holder {
    padding-top: 0.4em;
    padding-bottom: 0.4em;
  }
  #custom-amount {
    width: 10em;   
    font-weight: bold;
    border-color:#a1a7b2;
  }
  ::-webkit-input-placeholder {
   color: white;
  }

  :-moz-placeholder { /* Firefox 18- */
    color: white;  
  }

  ::-moz-placeholder {  /* Firefox 19+ */
    color: white;  
  }

  :-ms-input-placeholder {  
    color: white;  
  }
  .ui-slider-horizontal .ui-slider-handle {
    background-image: url("/assets/ic_code_black_18dp_2x.png");
    background-size:     cover;
  }
   
 
</style>
<script>
  var money_amount;

  function setValues(id1,id2,value1,value2, dif1, dif2)
  { 
    $(id1).slider("value",value1+dif1)
    $(id2).slider("value",value2+dif2)
  }
  function redistributeMoney(event,ui) {
    var person1 = $( "#person1" ).slider( "value" ),
    person2 = $( "#person2" ).slider( "value" ),
    person3 = $( "#person3" ).slider( "value" ),
    comission = $( "#comission" ).slider( "value" )
    change = 900 - person1 - person2 - person3 - comission
    var dif = change-Math.round((change/2))
    var dif2 = change -dif 
    if(Math.random()> 0.5)
    {
      var temp = dif
      dif = dif2
      dif2 = temp
    }
    if (ui.handle.parentNode.id == "person1") 
    { 
      setValues("#person2","#person3",person2,person3, dif,dif2)
    }
    if (ui.handle.parentNode.id == "person2"){
      setValues("#person1","#person3",person1,person3, dif,dif2)
    }
    if (ui.handle.parentNode.id == "person3"){
      setValues("#person1","#person2",person1,person2, dif,dif2)
    }
  }

  $(function initSliders() {
    $( "#person1, #person2, #person3" ).slider({
      orientation: "horizontal",
      range: "min",
      max: 900,
      value: 127,
      slide: redistributeMoney
    });
    $( "#comission" ).slider({
      orientation: "horizontal",
      disabled: true,
      range: "min",
      max: 900,
      value: 27
    });
    $( "#person1" ).slider( "value", 291 );
    $( "#person2" ).slider( "value", 291 );
    $( "#person3" ).slider( "value", 291 );
    $( "#comission").slider( "value", 27 );
    money_amount = 12
    $("#12").removeClass( "btn-primary" )
    $("#12").addClass("btn-success")   
  });
$(function selectAmountByClick(){
  $("#8, #12, #25").click(function(event) {
    event.preventDefault();
    money_amount =parseFloat($(this).val().replace("$",""))
    $("#custom-amount").val("")
    $("#8, #12, #25, #custom-amount").removeClass( "btn-success" )
    $("#8, #12, #25, #custom-amount").addClass("btn-primary")
    $(this).removeClass( "btn-primary" )
    $(this).addClass("btn-success")
  });

})
$(function selectAmountByTyping(){
  $("#custom-amount").click(function(event) {
    event.preventDefault();
    $("#8, #12, #25").removeClass( "btn-success" )
    $("#8, #12, #25").addClass("btn-primary")
    $(this).removeClass( "btn-primary" )
    $(this).val("$"+money_amount);
    // $(this).addClass("btn-success")
  });

})
$(function leaveSelectAmount(){
  $("#custom-amount").focusout(function(event) {
    current_value = parseFloat($(this).val().replace("$",""))
    if (current_value) {
      money_amount = current_value
      $(this).val("$"+money_amount);
    }
    else
    {
      alert("You should set amount of money")
    }
  })
})
  // $( "#person1, #person2, #person3" ).on( "slide", function( event, ui ) {console.log(ui.value)} );
</script>
<div class = "container">
  <div class = "row">
    <div class = "col-md-4">
      <h7>
        Purchase the guided tour
      </h7>
    </div>    
  </div>
  <div class = "row">
    <div class = "col-md-2"><p><strong>Pay what you want!</strong></p></div>
    <div class = "col-md-1">
      <input type="button" id ="8" class="btn btn-primary btn-sm" value="$8">
    </div>
    <div class ="col-md-1">
      <input type="button" id ="12" class="btn btn-primary btn-sm" value="$12">
    </div>
    <div class = "col-md-1">
      <input type="button" id ="25" class="btn btn-primary btn-sm btn-active" value="$25">
    </div>
    <div class = "col-md-3">
      <input id = "custom-amount" type="text" class="btn btn-primary btn-sm" placeholder="Custom amount">
    </div>
  </div>
  <div class = "row">
    <div class = "col-md-3">
      <p>Choose where your money goes
      </p>
    </div>
  </div>
  <div class = "row">
    <div class = "col-md-1">
      <p>Person 1</p>
    </div>
    <div class="col-md-5 slider-holder ">
      <div id= "person1" ></div>
    </div>    
    <div class = "col-md-2">
      <input type = "text" class="btn btn-success">
    </div>    
  </div>
  <div class = "row">
    <div class = "col-md-1">
      <p>Person 2</p>
    </div>
    <div class="col-md-5 slider-holder ">
      <div id= "person2" ></div>
    </div>    
    <div class = "col-md-2">
      <input type = "text" class="btn btn-success">
    </div>    
  </div>
  <div class = "row">
    <div class = "col-md-1">
      <p>Person 3</p>
    </div>
    <div class = "col-md-5 slider-holder ">
      <div id = "person3" ></div>
    </div>    
    <div class = "col-md-2">
      <input type = "text" class="btn btn-success">
    </div>    
  </div>
  <div class = "row">
    <div class = "col-md-1">
      <p>Comission</p>
    </div>
    <div class ="col-md-5 slider-holder ">
      <div id = "comission" ></div>
    </div>    
    <div class = "col-md-2">
      <input type = "text" class="btn btn-success">
    </div>    
  </div>
</div>

 
